{"remainingRequest":"C:\\xampp\\htdocs\\ld\\uzou\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js!C:\\xampp\\htdocs\\ld\\uzou\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\ld\\uzou\\vue_app_00\\src\\components\\tabbar\\purchase.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\xampp\\htdocs\\ld\\uzou\\vue_app_00\\src\\components\\tabbar\\purchase.vue","mtime":1542783669833},{"path":"C:\\xampp\\htdocs\\ld\\uzou\\vue_app_00\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"C:\\xampp\\htdocs\\ld\\uzou\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"C:\\xampp\\htdocs\\ld\\uzou\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport cal from \"../sub/cal.vue\";\nimport { Toast } from \"mint-ui\";\nexport default {\n  data: function data() {\n    return {\n      val: 1,\n      date: \"\",\n      uname: sessionStorage.getItem(\"uname\"),\n      phone: \"\",\n      ID: \"\",\n      id: this.$route.query.id,\n      list: [],\n      cprice: \"\",\n      total: \"\"\n    };\n  },\n  methods: {\n    incream: function incream() {\n      if (this.val > 0) {\n        this.val--;\n      }\n    },\n    add: function add() {\n      this.val++;\n    },\n    value: function value(_value) {\n      // childValue就是子组件传过来的值\n      this.date = _value;\n      console.log(this.date);\n    },\n    fromchild: function fromchild(data) {\n      this.date = data;\n    },\n    getID: function getID() {\n      var _this = this;\n\n      var url = \"http://127.0.0.1:3000/getID\";\n      this.$http.post(url, {\n        uname: this.uname\n      }).then(function (result) {\n        _this.phone = result.body[0].phone;\n        _this.ID = result.body[0].IDcardnum;\n      });\n    },\n    cont: function cont() {\n      var _this2 = this;\n\n      var url = \"http://127.0.0.1:3000/collection\";\n      this.$http.post(url, {\n        id: this.id\n      }).then(function (result) {\n        _this2.list = result.body;\n        var tt = result.body[0].cprice;\n        var cprice = tt.slice(1, 5);\n        _this2.cprice = cprice; // console.log(this.cprice)\n      });\n    },\n    submit: function submit() {\n      if (this.date == \"\") {\n        Toast(\"请选择出发日期\");\n      } else {\n        this.$router.push({\n          path: \"/home/pay\",\n          query: {\n            id: this.id,\n            val: this.val\n          }\n        });\n        console.log(this.id, this.val);\n      }\n    }\n  },\n  created: function created() {\n    this.getID();\n    this.cont();\n  },\n  components: {\n    \"timer-box\": cal\n  },\n  computed: {\n    t: function t() {\n      var str = this.cprice;\n      var dd = str * this.val;\n      return dd;\n    }\n  }\n};",{"version":3,"sources":["purchase.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA,OAAA,GAAA,MAAA,gBAAA;AACA,SAAA,KAAA,QAAA,SAAA;AACA,eAAA;AACA,MADA,kBACA;AACA,WAAA;AACA,WAAA,CADA;AAEA,YAAA,EAFA;AAGA,aAAA,eAAA,OAAA,CAAA,OAAA,CAHA;AAIA,aAAA,EAJA;AAKA,UAAA,EALA;AAMA,UAAA,KAAA,MAAA,CAAA,KAAA,CAAA,EANA;AAOA,YAAA,EAPA;AAQA,cAAA,EARA;AASA,aAAA;AATA,KAAA;AAWA,GAbA;AAcA,WAAA;AACA,WADA,qBACA;AACA,UAAA,KAAA,GAAA,GAAA,CAAA,EAAA;AACA,aAAA,GAAA;AAAA;AACA,KAJA;AAKA,OALA,iBAKA;AACA,WAAA,GAAA;AACA,KAPA;AAQA,WAAA,eAAA,MAAA,EAAA;AACA;AACA,WAAA,IAAA,GAAA,MAAA;AACA,cAAA,GAAA,CAAA,KAAA,IAAA;AACA,KAZA;AAaA,aAbA,qBAaA,IAbA,EAaA;AACA,WAAA,IAAA,GAAA,IAAA;AACA,KAfA;AAgBA,SAhBA,mBAgBA;AAAA;;AACA,UAAA,MAAA,6BAAA;AACA,WAAA,KAAA,CAAA,IAAA,CAAA,GAAA,EAAA;AAAA,eAAA,KAAA;AAAA,OAAA,EAAA,IAAA,CAAA,kBAAA;AACA,cAAA,KAAA,GAAA,OAAA,IAAA,CAAA,CAAA,EAAA,KAAA;AACA,cAAA,EAAA,GAAA,OAAA,IAAA,CAAA,CAAA,EAAA,SAAA;AACA,OAHA;AAIA,KAtBA;AAuBA,QAvBA,kBAuBA;AAAA;;AACA,UAAA,MAAA,kCAAA;AACA,WAAA,KAAA,CAAA,IAAA,CAAA,GAAA,EAAA;AAAA,YAAA,KAAA;AAAA,OAAA,EAAA,IAAA,CAAA,kBAAA;AACA,eAAA,IAAA,GAAA,OAAA,IAAA;AACA,YAAA,KAAA,OAAA,IAAA,CAAA,CAAA,EAAA,MAAA;AACA,YAAA,SAAA,GAAA,KAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACA,eAAA,MAAA,GAAA,MAAA,CAJA,CAKA;AACA,OANA;AAOA,KAhCA;AAiCA,UAjCA,oBAiCA;AACA,UAAA,KAAA,IAAA,IAAA,EAAA,EAAA;AAAA,cAAA,SAAA;AAAA,OAAA,MACA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA;AAAA,gBAAA,WAAA;AAAA,iBAAA;AAAA,gBAAA,KAAA,EAAA;AAAA,iBAAA,KAAA;AAAA;AAAA,SAAA;AACA,gBAAA,GAAA,CAAA,KAAA,EAAA,EAAA,KAAA,GAAA;AACA;AACA;AAvCA,GAdA;AAuDA,SAvDA,qBAuDA;AACA,SAAA,KAAA;AACA,SAAA,IAAA;AAEA,GA3DA;AA4DA,cAAA;AACA,iBAAA;AADA,GA5DA;AA+DA,YAAA;AACA,OAAA,aAAA;AACA,UAAA,MAAA,KAAA,MAAA;AACA,UAAA,KAAA,MAAA,KAAA,GAAA;AACA,aAAA,EAAA;AACA;AALA;AA/DA,CAAA","sourcesContent":["<template>\r\n<div class=\"purchasing\">\r\n    <div v-for=\"item in list\">\r\n        <div class=\"pur\">\r\n            <div  class=\"dd\">\r\n                <div class=\"list\">\r\n                    <img :src=\"item.pic\" alt=\"\">\r\n                </div>\r\n                <div class=\"Price\">\r\n                    <p class=\"destail\">{{item.place}}</p>\r\n                <span class=\"C\">{{item.cprice}}</span>\r\n                </div>  \r\n            </div>\r\n        </div>\r\n        <p class=\"before_purchase\">{{item.place}}</p>\r\n    </div>\r\n    <div class=\"middle\">\r\n        <span class=\"person_count\">出发人数：</span>\r\n        <div class=\"mui-numbox\" data-numbox-min='1' data-numbox-max='9'>\r\n            <button class=\"mui-btn mui-btn-numbox-minus\" type=\"button\" @click=\"incream\" >-</button>\r\n            <input id=\"test\" class=\"mui-input-numbox\" type=\"number\" value=\"1\" v-model=\"val\"/>\r\n            <button class=\"mui-btn mui-btn-numbox-plus\" type=\"button\" @click=\"add\" >+</button>\r\n        </div>\r\n    </div>\r\n    <div class=\"xuanxiang\">\r\n        <span  class=\"person_count date\">出发日期：</span>\r\n         <b>{{date}}</b>\r\n        <timer-box v-on:value=\"fromchild\"></timer-box>\r\n        <hr>\r\n        <h4>实名认证信息</h4>\r\n        <p>身份证号:{{ID}}</p>\r\n        <p>手机号:{{phone}}</p>\r\n        <p>\r\n          是否有签证:\r\n        </p>\r\n        <span class=\"xiaoji\">小计: <b>{{t}}</b></span>\r\n        <a id=\"icon-phone\"><span class=\"mui-icon mui-icon-phone\">联系商家</span></a>\r\n        <button class=\"button\" @click=\"submit\">立即预定</button>\r\n    </div>\r\n</div>\r\n</template>\r\n<script>\r\nimport cal from \"../sub/cal.vue\"\r\nimport {Toast} from \"mint-ui\"\r\n  export default{\r\n      data(){\r\n          return{\r\n              val:1,\r\n              date:\"\",\r\n              uname:sessionStorage.getItem(\"uname\"),\r\n              phone:\"\",\r\n              ID:\"\",\r\n              id:this.$route.query.id,\r\n              list:[],\r\n              cprice:\"\",\r\n              total:\"\"\r\n            }\r\n      },\r\n      methods:{\r\n           incream(){\r\n               if(this.val>0){\r\n              this.val--}   \r\n            },\r\n            add(){\r\n                this.val++\r\n            },\r\n            value: function (value) {\r\n        // childValue就是子组件传过来的值\r\n                this.date= value\r\n                console.log(this.date)\r\n            },\r\n            fromchild(data){\r\n               this.date=data\r\n            },\r\n            getID(){\r\n                var url=\"http://127.0.0.1:3000/getID\";\r\n                this.$http.post(url,{uname:this.uname}).then(result=>{\r\n                    this.phone=result.body[0].phone\r\n                    this.ID=result.body[0].IDcardnum\r\n                })\r\n            },\r\n            cont(){\r\n                var url=\"http://127.0.0.1:3000/collection\";\r\n                this.$http.post(url,{id:this.id}).then(result=>{\r\n                    this.list=result.body;\r\n                    var tt=result.body[0].cprice\r\n                    var cprice=tt.slice(1,5)  \r\n                    this.cprice=cprice\r\n                    // console.log(this.cprice)\r\n                })\r\n            },\r\n            submit(){\r\n                if(this.date==\"\"){Toast(\"请选择出发日期\")}\r\n                else{\r\n                    this.$router.push({path:\"/home/pay\",query:{id:this.id,val:this.val}})\r\n                     console.log(this.id,this.val)               \r\n                }\r\n            },     \r\n      },\r\n      created(){\r\n          this.getID();\r\n          this.cont();\r\n         \r\n      },\r\n      components:{\r\n           \"timer-box\":cal\r\n      },\r\n      computed:{\r\n          t:function(){\r\n              var str=this.cprice\r\n              var dd=str*this.val\r\n              return dd\r\n          }\r\n      }\r\n  }\r\n</script>\r\n<style>\r\n   .purchasing{\r\n       margin-top:85px;\r\n    }\r\n  .purchasing span{\r\n      \r\n        display:inline-block;\r\n         width:50%;\r\n        text-align:center;\r\n         position:relative;\r\n        \r\n    }\r\n    .purchasing .pur{\r\n        margin-top:10px;\r\n        background:white;\r\n    }\r\n   .purchasing img{\r\n    width:32%;\r\n}\r\n.purchasing>.dd>.list{\r\n    position:relative;\r\n}\r\n.purchasing  .dd{\r\n    position:relative;\r\n}\r\n.purchasing .Price{\r\n    position:absolute;\r\n    top:10%;\r\n    left:35%;\r\n}\r\n.purchasing .dd>.Price>.destail{\r\n    font-size:14px;\r\n    color:#444444;    \r\n    margin-bottom:0;\r\n    display:-webkit-box !important;\r\n    -webkit-box-orient:vertical;\r\n    -webkit-line-clamp:2;\r\n    overflow:hidden;\r\n}\r\n.purchasing .dd>.Price>.C{\r\n    display:inline-block;\r\n    width:78px;\r\n    height:20px;\r\n    font-weight:bold;\r\n    line-height:20px;\r\n    padding-top:1px;\r\n    margin-top:10px;\r\n}\r\n.purchasing .before_purchase{\r\n   font-size:16px;\r\n   font-weight:bold;\r\n   color:orange;\r\n   margin:15px 10px;\r\n}\r\n.purchasing .person_count{\r\n    color:#42D2A9;\r\n    font-weight:bold;\r\n    margin-left:-10px;\r\n}\r\n.purchasing .mui-numbox{\r\n margin-left:0px;\r\n}\r\n.purchasing .xuanxiang{\r\n    margin-top:20px;\r\n}\r\n.page-datetime {\r\n    margin-top: 5px;\r\n   \r\n}\r\n.purchasing .xiaoji{\r\n    color:orange;\r\n    font-weight:bold;\r\n    margin-left:-10%;\r\n    margin-bottom:8px;\r\n}\r\n.purchasing .button{\r\n    width:100%;\r\n    background:#42D2A9;\r\n    color:white;\r\n}\r\n.purchasing .mui-icon-phone{\r\n    font-size:16px !important;\r\n    margin-left:10%;\r\n}\r\n\r\n</style>"],"sourceRoot":"src\\components\\tabbar"}]}